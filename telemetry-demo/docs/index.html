<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Integration: From Code to Insights</title>
    
    <!-- Reveal.js CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/theme/black.min.css">
    
    <!-- Syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/highlight/monokai.min.css">
    
    <!-- Custom styles -->
    <style>
        .reveal h1, .reveal h2, .reveal h3 {
            color: #ffffff;
            text-transform: none;
            line-height: 1.2;
        }
        
        .reveal h1 {
            font-size: 2.5em;
        }
        
        .reveal h2 {
            font-size: 1.8em;
        }
        
        .reveal h3 {
            font-size: 1.3em;
        }
        
        .reveal {
            font-size: 32px;
        }
        
        .reveal p, .reveal li {
            font-size: 0.85em;
            line-height: 1.4;
        }
        
        .reveal .slides section {
            text-align: center;
            display: flex !important;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            box-sizing: border-box;
        }
        
        .reveal .slides {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .reveal .slides section > * {
            margin: 0.5em 0;
            width: 100%;
            max-width: 100%;
        }
        
        /* Override Reveal.js defaults */
        .reveal .slides section {
            top: 50% !important;
            left: 50% !important;
            transform: translate(-50%, -50%) !important;
            width: 100% !important;
            height: 100vh !important;
            display: flex !important;
            flex-direction: column !important;
            justify-content: center !important;
            align-items: center !important;
        }
        
        .reveal code {
            background: #2a2a2a;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.75em;
        }
        
        .reveal pre code {
            background: none;
            padding: 0;
            max-height: 500px;
            font-size: 1.4em;
            line-height: 1.4;
        }
        
        .comparison-table {
            width: 100%;
            margin: 20px 0;
            border-collapse: collapse;
        }
        
        .comparison-table th {
            background: #333333;
            color: white;
            padding: 8px;
            text-align: left;
            font-size: 0.85em;
        }
        
        .comparison-table td {
            padding: 8px;
            border: 1px solid #666;
            font-size: 0.8em;
            color: #ffffff;
        }
        
        .highlight-box {
            background: #333333;
            border: 2px solid #666666;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-size: 0.85em;
            color: #ffffff;
        }
        
        .two-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .architecture-box {
            background: #1a1a1a;
            border: 2px solid #666666;
            border-radius: 8px;
            padding: 12px;
            margin: 8px 0;
            font-size: 0.85em;
            color: #ffffff;
        }
        
        .architecture-box h3, .architecture-box h4 {
            margin-top: 0;
            margin-bottom: 10px;
            color: #ffffff;
        }
        
        .clarity-box {
            background: #1a1a1a;
            border: 2px solid #666666;
            border-radius: 8px;
            padding: 12px;
            margin: 8px 0;
            font-size: 0.85em;
            color: #ffffff;
        }
        
        .clarity-box h3, .clarity-box h4 {
            margin-top: 0;
            margin-bottom: 10px;
            color: #ffffff;
        }
        
        .reveal .progress {
            color: #ffffff;
        }
        
        .reveal .controls {
            color: #ffffff;
        }
        
        .emoji-large {
            font-size: 1.5em;
            margin: 0 5px;
        }
        
        .code-link {
            color: #ffffff;
            text-decoration: underline;
            font-size: 0.8em;
            display: block;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">
            
            <!-- Slide 1: Title -->
            <section>
                <h1>Analytics Integration</h1>
                <p style="margin-top: 50px;">Microsoft Clarity ‚Ä¢ Google Analytics ‚Ä¢ Real Implementation</p>
                <p style="font-size: 0.8em; margin-top: 40px; color: #ffffff;">Navigate: Space/Arrow Keys | Overview: ESC</p>
            </section>
            
            <!-- Slide 2: Agenda -->
            <section>
                <h2>üìã Agenda</h2>
                <ol>
                    <li>Analytics Fundamentals</li>
                    <li>Microsoft Clarity: Free Session Recordings & Heatmaps</li>
                    <li>Google Analytics 4 (GA4) Implementation</li>
                    <li>Custom Events & Properties Deep Dive</li>
                    <li>Real Code Examples from Our Codebase</li>
                    <li>Implementation Patterns & Best Practices</li>
                    <li>Data Pipeline: GA4 ‚Üí BigQuery ‚Üí Looker Studio</li>
                </ol>
                <div class="highlight-box" style="margin-top: 30px;">
                    <p><strong>Repository:</strong> All code examples are from our live implementation</p>
                </div>
            </section>
            
            <!-- Slide 3: Why Analytics Matter -->
            <section>
                <h2>üéØ Why Analytics Matter</h2>
                <div class="two-columns">
                    <div>
                        <h3>Business Value</h3>
                        <ul>
                            <li>User behavior insights</li>
                            <li>Data-driven decisions</li>
                            <li>ROI measurement</li>
                            <li>Customer journey mapping</li>
                        </ul>
                    </div>
                    <div>
                        <h3>Technical Benefits</h3>
                        <ul>
                            <li>Performance monitoring</li>
                            <li>Error tracking</li>
                            <li>Feature adoption</li>
                            <li>A/B testing data</li>
                        </ul>
                    </div>
                </div>
                <div class="architecture-box" style="margin-top: 30px;">
                    <strong>Key Insight:</strong> Analytics bridge the gap between code and business outcomes
                </div>
            </section>
            
            <!-- Part 1: Microsoft Clarity -->
            
            <!-- Slide 4: What is Microsoft Clarity -->
            <section>
                <h2>üîç Microsoft Clarity: The Perfect Starting Point</h2>
                <div class="two-columns">
                    <div>
                        <h3>‚ú® Features</h3>
                        <ul>
                            <li>Session recordings</li>
                            <li>Heatmaps (click, scroll, area)</li>
                            <li>Rage click detection</li>
                            <li>Dead click tracking</li>
                            <li>JavaScript error tracking</li>
                            <li>Performance insights</li>
                        </ul>
                    </div>
                    <div>
                        <h3>üéâ Why Start Here?</h3>
                        <ul>
                            <li><strong>100% Free Forever</strong></li>
                            <li>No traffic limits</li>
                            <li>GDPR compliant</li>
                            <li>5-minute setup</li>
                            <li>No coding required</li>
                            <li>Visual debugging</li>
                        </ul>
                    </div>
                </div>
                <div class="clarity-box" style="margin-top: 20px;">
                    <strong>Perfect for:</strong> Understanding user behavior before optimizing for conversion metrics
                </div>
            </section>
            
            <!-- Slide 5: Clarity Setup -->
            <section>
                <h2>‚ö° Clarity Setup (5 minutes)</h2>
                <div class="clarity-box">
                    <h3>1. Get Your Tracking Code</h3>
                    <p>Visit <strong>clarity.microsoft.com</strong> ‚Üí Create project ‚Üí Copy script</p>
                </div>
                <div class="clarity-box">
                    <h3>2. Add to Your HTML Head</h3>
                    <pre><code class="language-html">&lt;!-- From our index.html:16-23 --&gt;
&lt;script type="text/javascript"&gt;
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "nx82kkx8r9");
&lt;/script&gt;</code></pre>
                </div>
                <div class="highlight-box">
                    <strong>That's it!</strong> Clarity starts collecting data immediately
                </div>
            </section>
            
            <!-- Slide 6: Clarity Custom Events -->
            <section>
                <h2>üé® Clarity Custom Events</h2>
                <pre><code class="language-javascript">// From src/utils/tracking.ts:31-39
export const trackClarityCustomEvent = (
  eventName: string,
  customTag?: Record&lt;string, any&gt;
) => {
  if (typeof window !== 'undefined' && window.clarity) {
    window.clarity('set', eventName, customTag);
    console.log('Clarity Custom Event:', eventName, customTag);
  }
};</code></pre>
                <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity/blob/main/telemetry-demo/src/utils/tracking.ts#L31-L39" class="code-link" target="_blank">src/utils/tracking.ts:31-39 ‚Üí</a>
                <div class="two-columns" style="margin-top: 20px;">
                    <div class="clarity-box">
                        <h4>üìä What This Does</h4>
                        <p>Tags sessions with custom metadata for filtering and analysis</p>
                    </div>
                    <div class="clarity-box">
                        <h4>üîç Use Cases</h4>
                        <p>User type, feature usage, error states, A/B test variants</p>
                    </div>
                </div>
            </section>
            
            <!-- Slide 7: Real Clarity Implementation -->
            <section>
                <h2>üí° Real Clarity Examples from Our Code</h2>
                <pre><code class="language-javascript">// From src/pages/HomePage.tsx:67-76
const handleSignupClick = () => {
  trackGTMEvent('sign_up', {
    method: 'email',
    event_category: 'engagement',
  });
  
  trackClarityCustomEvent('SignupButtonClick', { 
    page: 'home',
    method: 'email' 
  });
};</code></pre>
                <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity/blob/main/telemetry-demo/src/pages/HomePage.tsx#L67-L76" class="code-link" target="_blank">src/pages/HomePage.tsx:67-76 ‚Üí</a>
                <div class="clarity-box" style="margin-top: 20px;">
                    <strong>Result:</strong> You can filter Clarity sessions to see only users who clicked signup, then watch their journey
                </div>
            </section>
            
            <!-- Part 2: Google Analytics 4 -->
            
            <!-- Slide 8: Now Let's Add Google Analytics -->
            <section>
                <h2>üìä Now Let's Add Google Analytics</h2>
                <div class="architecture-box">
                    <h3>Why GA4 After Clarity?</h3>
                    <p>Clarity shows you <strong>what</strong> users do. GA4 shows you <strong>how many</strong> and <strong>when</strong>.</p>
                </div>
                <div class="two-columns">
                    <div>
                        <h3>üîç Clarity Strengths</h3>
                        <ul>
                            <li>Visual user behavior</li>
                            <li>Session recordings</li>
                            <li>UX problem identification</li>
                            <li>Qualitative insights</li>
                        </ul>
                    </div>
                    <div>
                        <h3>üìà GA4 Strengths</h3>
                        <ul>
                            <li>Quantitative metrics</li>
                            <li>Conversion funnels</li>
                            <li>Audience segmentation</li>
                            <li>BigQuery export</li>
                        </ul>
                    </div>
                </div>
            </section>
            
            <!-- Slide 9: GA4 Implementation Approaches -->
            <section>
                <h2>üîÄ GA4 Implementation Approaches</h2>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Approach</th>
                            <th>Pros</th>
                            <th>Cons</th>
                            <th>Best For</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Google Tag Manager</strong></td>
                            <td>No-code changes, Marketing autonomy</td>
                            <td>Extra complexity</td>
                            <td>Marketing-heavy teams</td>
                        </tr>
                        <tr>
                            <td><strong>React-GA4</strong></td>
                            <td>Simple, Type-safe</td>
                            <td>Code changes required</td>
                            <td>Developer-led teams</td>
                        </tr>
                        <tr>
                            <td><strong>Direct gtag</strong></td>
                            <td>Full control</td>
                            <td>More complexity</td>
                            <td>Custom requirements</td>
                        </tr>
                    </tbody>
                </table>
                <div class="highlight-box">
                    <strong>Our Implementation:</strong> We use GTM for flexibility + React-GA4 for direct control
                </div>
            </section>
            
            <!-- Slide 10: GTM Setup -->
            <section>
                <h2>üè∑Ô∏è Google Tag Manager Setup</h2>
                <pre><code class="language-html">&lt;!-- From index.html:9-15 --&gt;
&lt;script&gt;(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MT9MWSLQ');&lt;/script&gt;</code></pre>
                <div class="two-columns" style="margin-top: 20px;">
                    <div class="architecture-box">
                        <h4>üì¶ DataLayer Function</h4>
                        <pre><code class="language-javascript">// src/utils/tracking.ts:8-19
export const trackGTMEvent = (
  eventName: string,
  parameters?: Record&lt;string, any&gt;
) => {
  if (typeof window !== 'undefined' && window.dataLayer) {
    window.dataLayer.push({
      event: eventName,
      ...parameters
    });
  }
};</code></pre>
                    </div>
                    <div class="architecture-box">
                        <h4>‚ö° Container: GTM-MT9MWSLQ</h4>
                        <p>Tags fire based on dataLayer events</p>
                        <p>Marketing team can modify without deployments</p>
                    </div>
                </div>
            </section>
            
            <!-- Part 3: Custom Events & Properties -->
            
            <!-- Slide 11: Event Fundamentals -->
            <section>
                <h2>üî¨ Event Fundamentals</h2>
                <div class="architecture-box">
                    <h3>Basic Event Structure</h3>
                    <pre><code class="language-javascript">{
  event_name: "button_click",      // Required: what happened
  event_category: "engagement",    // Context: type of event  
  event_label: "hero_cta",        // Specifics: which element
  value: 1,                       // Numeric: count/amount
  // Custom properties for deeper analysis
  button_text: "Get Started",
  page_section: "hero",
  user_type: "anonymous"
}</code></pre>
                </div>
                <div class="highlight-box">
                    <strong>Key Principle:</strong> Events answer "what happened", properties answer "under what conditions"
                </div>
            </section>
            
            <!-- Slide 12: Real Custom Properties Examples -->
            <section>
                <h2>üé® Real Custom Properties from Our Codebase</h2>
                <pre><code class="language-javascript">// From src/pages/HomePage.tsx:7-26
const handleButtonClick = () => {
  const newCount = clickCount + 1;
  setClickCount(newCount);
  
  trackGTMEvent('button_click', {
    event_category: 'engagement',
    event_label: 'home_page_button',
    value: newCount,
    // üéØ Custom properties for business insights
    button_text: 'Track Engagement Event',
    page_section: 'hero',
    click_count: newCount,
    timestamp: new Date().toISOString(),
    session_duration: Math.floor((Date.now() - performance.timing.navigationStart) / 1000)
  });
  
  trackClarityCustomEvent('HomeButtonClick', { clickCount: newCount });
};</code></pre>
                <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity/blob/main/telemetry-demo/src/pages/HomePage.tsx#L7-L26" class="code-link" target="_blank">src/pages/HomePage.tsx:7-26 ‚Üí</a>
            </section>
            
            <!-- Slide 13: Why Custom Properties Matter -->
            <section>
                <h2>üí° Why Custom Properties Are Game-Changers</h2>
                <div class="two-columns">
                    <div>
                        <h3>üîç Without Custom Properties</h3>
                        <ul>
                            <li>"Users clicked buttons 1,000 times"</li>
                            <li>Basic event counts</li>
                            <li>Limited segmentation</li>
                            <li>Surface-level insights</li>
                        </ul>
                    </div>
                    <div>
                        <h3>üöÄ With Custom Properties</h3>
                        <ul>
                            <li>"Premium users click 'Export' 3x more than free users"</li>
                            <li>Behavior by user type</li>
                            <li>Feature usage patterns</li>
                            <li>Actionable business insights</li>
                        </ul>
                    </div>
                </div>
                <div class="highlight-box" style="margin-top: 20px;">
                    <strong>Business Impact:</strong> Custom properties turn raw events into strategic insights
                </div>
            </section>
            
            <!-- Slide 14: E-commerce Event Example -->
            <section>
                <h2>üõí E-commerce Custom Properties</h2>
                <pre><code class="language-javascript">// From src/pages/HomePage.tsx:29-55
const handlePurchaseClick = () => {
  trackGTMEvent('purchase', {
    // üìä Standard GA4 e-commerce parameters
    transaction_id: `demo_${Date.now()}`,
    value: 25.42,
    currency: 'USD',
    items: [{
      item_id: 'SKU123',
      item_name: 'Demo Product',
      item_category: 'Electronics',
      item_brand: 'TechCorp',
      price: 25.42,
      quantity: 1
    }],
    // üéØ Custom business properties
    payment_type: 'credit_card',
    coupon: 'DEMO20',
    is_first_purchase: false
  });
};</code></pre>
                <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity/blob/main/telemetry-demo/src/pages/HomePage.tsx#L29-L55" class="code-link" target="_blank">src/pages/HomePage.tsx:29-55 ‚Üí</a>
            </section>
            
            <!-- Slide 15: Advanced Custom Properties -->
            <section>
                <h2>üîß Advanced Custom Properties Pattern</h2>
                <pre><code class="language-javascript">// From src/pages/CustomPropertiesPage.tsx:14-32
const handleUserEvent = () => {
  trackGTMEvent('user_profile_update', {
    // üë§ User context properties
    user_id: formData.userId,
    user_properties: {
      account_type: formData.userType,
      subscription_level: 'premium',
      signup_date: '2024-01-15',
      feature_flags: ['advanced_analytics', 'api_access']
    },
    // üìä Interaction context
    page_section: 'profile_settings',
    form_completion_time: 45000, // milliseconds
    fields_changed: ['email', 'notification_preferences'],
    // üéØ Business metrics
    ltv_segment: 'high_value',
    engagement_score: 85
  });
};</code></pre>
                <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity/blob/main/telemetry-demo/src/pages/CustomPropertiesPage.tsx#L14-L32" class="code-link" target="_blank">src/pages/CustomPropertiesPage.tsx:14-32 ‚Üí</a>
            </section>
            
            <!-- Slide 16: Form Tracking with Field Details -->
            <section>
                <h2>üìù Form Tracking with Rich Context</h2>
                <pre><code class="language-javascript">// From src/pages/CustomPropertiesPage.tsx:112-135
const handleFormEvent = () => {
  trackGTMEvent('form_interaction', {
    form_id: 'contact_form',
    form_name: 'Contact Us',
    
    // üîç Field-level tracking for UX optimization
    field_interactions: {
      email_field: { focus_time: 2000, error_count: 0 },
      message_field: { focus_time: 15000, char_count: 156 },
      submit_attempts: 1
    },
    
    // üìä Form performance metrics
    form_start_time: startTime,
    form_completion_time: Date.now() - startTime,
    validation_errors: [],
    
    // üéØ Conversion context
    traffic_source: 'organic_search',
    page_scroll_depth: 75,
    previous_page: '/pricing'
  });
};</code></pre>
                <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity/blob/main/telemetry-demo/src/pages/CustomPropertiesPage.tsx#L112-L135" class="code-link" target="_blank">src/pages/CustomPropertiesPage.tsx:112-135 ‚Üí</a>
            </section>
            
            <!-- Slide 17: Content Engagement Properties -->
            <section>
                <h2>üìñ Content Engagement Tracking</h2>
                <pre><code class="language-javascript">// From src/pages/CustomPropertiesPage.tsx:35-58
const handleContentEvent = () => {
  trackGTMEvent('content_engagement', {
    // ‚è±Ô∏è Standard engagement metrics
    engagement_time_msec: 30000,
    
    // üìÑ Content metadata for analysis
    content_id: formData.contentId,
    content_type: 'blog_post',
    content_category: 'tutorial',
    content_tags: ['analytics', 'implementation', 'react'],
    
    // üîç User interaction details
    scroll_depth_percentage: 65,
    reading_speed_wpm: 200,
    
    // üíº Business context
    content_author: 'data_team',
    publish_date: '2024-01-20',
    content_tier: 'premium',
    conversion_goal: 'newsletter_signup'
  });
};</code></pre>
                <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity/blob/main/telemetry-demo/src/pages/CustomPropertiesPage.tsx#L35-L58" class="code-link" target="_blank">src/pages/CustomPropertiesPage.tsx:35-58 ‚Üí</a>
            </section>
            
            <!-- Part 4: Implementation Patterns -->
            
            <!-- Slide 18: Centralized Tracking Pattern -->
            <section>
                <h2>üõ†Ô∏è Centralized Tracking Pattern</h2>
                <pre><code class="language-javascript">// From src/utils/tracking-comparison.ts:149-162
export const trackWithAllMethods = (
  eventName: string,
  parameters?: Record&lt;string, any&gt;
) => {
  // Send to Google Tag Manager
  trackWithDataLayer.event(eventName, parameters);
  
  // Send to React-GA4 (if initialized)
  if (ReactGA.isInitialized) {
    trackWithReactGA4.event(eventName, parameters);
  }
  
  // Also track in Clarity for session filtering
  trackClarityEvent(eventName, parameters);
};</code></pre>
                <div class="highlight-box">
                    <strong>Benefit:</strong> Send the same event to multiple analytics platforms simultaneously
                </div>
            </section>
            
            <!-- Slide 19: Error-Safe Implementation -->
            <section>
                <h2>üõ°Ô∏è Error-Safe Implementation</h2>
                <pre><code class="language-javascript">// Defensive coding pattern
export const trackEvent = (eventName: string, properties?: any) => {
  try {
    // Check if analytics tools are loaded
    if (typeof window === 'undefined') return;
    
    // GTM tracking with fallback
    if (window.dataLayer) {
      window.dataLayer.push({
        event: eventName,
        ...properties,
        timestamp: new Date().toISOString()
      });
    }
    
    // Clarity tracking with fallback
    if (window.clarity) {
      window.clarity('set', eventName, properties);
    }
    
    // Development debugging
    if (process.env.NODE_ENV === 'development') {
      console.log('üìä Event tracked:', { eventName, properties });
    }
  } catch (error) {
    // Never break the user experience for analytics
    console.warn('Analytics tracking failed:', error);
  }
};</code></pre>
            </section>
            
            <!-- Slide 20: Route Tracking -->
            <section>
                <h2>üîÑ Automatic Route Tracking</h2>
                <pre><code class="language-javascript">// From src/App.tsx:48-58
function AppContent() {
  const location = useLocation();

  useEffect(() => {
    const pageTitles: Record&lt;string, string&gt; = {
      '/': 'Home',
      '/about': 'About', 
      '/comparison': 'Comparison',
      '/custom-properties': 'Custom Properties Demo'
    };
    
    const pageTitle = pageTitles[location.pathname] || 'Unknown';
    
    // Track page view with custom properties
    trackPageView(location.pathname, pageTitle);
  }, [location]);
}</code></pre>
                <div class="architecture-box">
                    <strong>Auto-tracks:</strong> All route changes with page titles and custom context
                </div>
            </section>
            
            <!-- Part 5: Testing & Debugging -->
            
            <!-- Slide 21: Testing Strategy -->
            <section>
                <h2>üß™ Testing Your Analytics Implementation</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="clarity-box">
                        <h4>üîç Clarity Testing</h4>
                        <p>Visit your site ‚Üí Check Clarity dashboard for real-time sessions</p>
                    </div>
                    <div class="architecture-box">
                        <h4>üè∑Ô∏è GTM Testing</h4>
                        <p>Use GTM Preview Mode to debug tags before publishing</p>
                    </div>
                    <div class="architecture-box">
                        <h4>üìä GA4 Testing</h4>
                        <p>Use GA4 DebugView for real-time event validation</p>
                    </div>
                    <div class="architecture-box">
                        <h4>üõ†Ô∏è Browser DevTools</h4>
                        <p>Check Network tab for collect requests and console logs</p>
                    </div>
                </div>
                <pre><code class="language-javascript">// Console debugging commands
window.dataLayer; // Check GTM data layer
window.clarity; // Check Clarity availability
window.gtag; // Check GA4 gtag function</code></pre>
            </section>
            
            <!-- Slide 22: Common Pitfalls -->
            <section>
                <h2>‚ö†Ô∏è Common Pitfalls & Solutions</h2>
                <table class="comparison-table">
                    <tr>
                        <th>Pitfall</th>
                        <th>Solution</th>
                        <th>Code Example</th>
                    </tr>
                    <tr>
                        <td>Tracking before script loads</td>
                        <td>Check availability</td>
                        <td><code>if (window.clarity) {...}</code></td>
                    </tr>
                    <tr>
                        <td>Duplicate events</td>
                        <td>Centralize tracking calls</td>
                        <td>Single <code>trackEvent()</code> function</td>
                    </tr>
                    <tr>
                        <td>Missing custom properties</td>
                        <td>Use TypeScript interfaces</td>
                        <td><code>interface EventProps</code></td>
                    </tr>
                    <tr>
                        <td>PII in events</td>
                        <td>Sanitize data first</td>
                        <td>Hash emails, remove names</td>
                    </tr>
                </table>
            </section>
            
            <!-- Part 6: Data Pipeline -->
            
            <!-- Slide 23: GA4 to BigQuery -->
            <section>
                <h2>üîó GA4 to BigQuery Integration</h2>
                <div class="architecture-box">
                    <h3>Setup Steps</h3>
                    <ol>
                        <li>Enable BigQuery Export in GA4 Admin</li>
                        <li>Link Google Cloud Project</li>
                        <li>Choose export frequency (Daily recommended for cost)</li>
                        <li>Configure dataset location</li>
                    </ol>
                </div>
                <div class="highlight-box">
                    <strong>Result:</strong> Your custom properties become queryable SQL columns
                </div>
                <pre><code class="language-sql">-- Query custom properties in BigQuery
SELECT 
  event_name,
  (SELECT value.string_value FROM UNNEST(event_params) 
   WHERE key = 'user_type') as user_type,
  COUNT(*) as events
FROM `project.analytics_123456789.events_*`
WHERE event_name = 'button_click'
GROUP BY event_name, user_type;</code></pre>
            </section>
            
            <!-- Slide 24: Repository Structure -->
            <section>
                <h2>üìÅ Our Implementation Structure</h2>
                <pre><code class="language-bash">telemetry-demo/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tracking.ts              # Core Clarity & GTM functions
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tracking-comparison.ts   # All approaches compared
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HomePage.tsx            # Basic event examples  
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AboutPage.tsx           # Content tracking examples
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CustomPropertiesPage.tsx # Advanced custom properties
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ComparisonPage.tsx      # Side-by-side testing
‚îÇ   ‚îî‚îÄ‚îÄ App.tsx                     # Route tracking setup
‚îú‚îÄ‚îÄ index.html                      # Clarity & GTM scripts
‚îî‚îÄ‚îÄ package.json                    # react-ga4 dependency</code></pre>
                <div class="highlight-box">
                    <strong>Available at:</strong> All working code in this repository
                </div>
            </section>
            
            <!-- Slide 25: Resources -->
            <section>
                <h2>üìö Resources & Links</h2>
                <div class="two-columns">
                    <div>
                        <h3>üîó Documentation</h3>
                        <ul>
                            <li><a href="https://clarity.microsoft.com/" target="_blank">Microsoft Clarity</a></li>
                            <li><a href="https://tagmanager.google.com/" target="_blank">Google Tag Manager</a></li>
                            <li><a href="https://developers.google.com/analytics/devguides/collection/ga4" target="_blank">GA4 Developer Docs</a></li>
                            <li><a href="https://github.com/react-ga/react-ga" target="_blank">React-GA4 GitHub</a></li>
                        </ul>
                    </div>
                    <div>
                        <h3>üõ†Ô∏è Testing Tools</h3>
                        <ul>
                            <li><a href="https://tagassistant.google.com/" target="_blank">Google Tag Assistant</a></li>
                            <li><a href="https://ga-dev-tools.google/" target="_blank">GA Dev Tools</a></li>
                            <li><a href="https://lookerstudio.google.com/" target="_blank">Looker Studio</a></li>
                            <li>Browser DevTools Network Tab</li>
                        </ul>
                    </div>
                </div>
                <div class="highlight-box" style="margin-top: 30px;">
                    <strong>This Repository:</strong> <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity/tree/main/telemetry-demo" target="_blank" style="color: #ffffff;">github.com/ChakshuGautam/telemetry-ga-clarity</a>
                </div>
            </section>
            
            <!-- Slide 26: Thank You -->
            <section>
                <h1>Thank You! üôè</h1>
                <div style="margin-top: 50px;">
                    <p style="font-size: 1.5em;">Questions?</p>
                </div>
                <div style="margin-top: 40px;">
                    <p>üìß Contact: chakshu@samagragovernance.in</p>
                    <p>üì¶ Repository: <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity/tree/main/telemetry-demo" target="_blank" style="color: #ffffff;">github.com/ChakshuGautam/telemetry-ga-clarity</a></p>
                    <p>üîó Slides: <a href="./index.html" style="color: #ffffff;">Available Online</a></p>
                </div>
                <div style="margin-top: 50px; font-size: 0.8em; color: #ffffff;">
                    <p>Start with Clarity today - it's free and takes 5 minutes!</p>
                    <p>Built with Reveal.js | Source code in /docs folder</p>
                </div>
            </section>
            
        </div>
    </div>
    
    <!-- Reveal.js Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/reveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/highlight/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/notes/notes.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/markdown/markdown.min.js"></script>
    
    <script>
        Reveal.initialize({
            hash: true,
            controls: true,
            progress: true,
            center: true,
            transition: 'slide',
            width: '100%',
            height: '100%',
            plugins: [ RevealHighlight, RevealNotes, RevealMarkdown ]
        });
    </script>
</body>
</html>