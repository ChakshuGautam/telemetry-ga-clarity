<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Integration: From Code to Insights</title>
    
    <!-- Reveal.js CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/theme/black.min.css">
    
    <!-- Syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/highlight/monokai.min.css">
    
    <!-- Custom styles -->
    <style>
        .reveal h1, .reveal h2, .reveal h3 {
            color: #ffffff;
            text-transform: none;
            line-height: 1.2;
        }
        
        .reveal h1 {
            font-size: 2.5em;
            font-weight: 600;
        }
        
        .reveal h2 {
            font-size: 1.8em;
            font-weight: 500;
        }
        
        .reveal h3 {
            font-size: 1.3em;
            font-weight: 500;
        }
        
        .reveal {
            font-size: 32px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
        }
        
        .reveal p, .reveal li {
            font-size: 0.85em;
            line-height: 1.5;
        }
        
        .reveal .slides section {
            text-align: center;
            display: flex !important;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            box-sizing: border-box;
        }
        
        .reveal .slides section > * {
            margin: 0.5em 0;
            width: 100%;
            max-width: 100%;
        }
        
        /* Override Reveal.js defaults */
        .reveal .slides section,
        .reveal .slides > section {
            top: 50% !important;
            left: 50% !important;
            transform: translate(-50%, -50%) !important;
            width: 100% !important;
            height: 100vh !important;
            display: flex !important;
            flex-direction: column !important;
            justify-content: center !important;
            align-items: center !important;
            position: absolute !important;
            margin: 0 !important;
            padding: 2rem !important;
        }
        
        .reveal code {
            background: #2a2a2a;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
        }
        
        .reveal pre {
            width: 100%;
            margin: 15px 0;
        }
        
        .reveal pre code {
            background: none;
            padding: 15px;
            max-height: 500px;
            font-size: 0.8em;
            line-height: 1.4;
        }
        
        .comparison-table {
            width: 100%;
            margin: 20px auto;
            border-collapse: collapse;
            font-size: 0.85em;
        }
        
        .comparison-table th {
            background: #333333;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            border: 1px solid #444;
        }
        
        .comparison-table td {
            padding: 10px;
            border: 1px solid #444;
            color: #ffffff;
            text-align: left;
            background: #1a1a1a;
        }
        
        .highlight-box {
            background: linear-gradient(135deg, #2a2a2a, #333333);
            border: 2px solid #555;
            padding: 20px;
            border-radius: 12px;
            margin: 20px auto;
            font-size: 0.9em;
            color: #ffffff;
            max-width: 90%;
        }
        
        .two-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            text-align: left;
            width: 100%;
        }
        
        .info-box {
            background: #1a1a1a;
            border: 1px solid #444;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            text-align: left;
        }
        
        .info-box h3, .info-box h4 {
            margin-top: 0;
            margin-bottom: 10px;
            color: #ffffff;
        }
        
        .reveal .progress {
            color: #88ccff;
        }
        
        .reveal .controls {
            color: #88ccff;
        }
        
        .code-link {
            color: #88ccff;
            text-decoration: none;
            font-size: 0.7em;
            display: inline-block;
            margin-top: 10px;
            padding: 5px 10px;
            background: #1a1a1a;
            border-radius: 4px;
            border: 1px solid #444;
        }
        
        .code-link:hover {
            background: #2a2a2a;
            text-decoration: underline;
        }
        
        .step-number {
            display: inline-block;
            background: #88ccff;
            color: #000;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            line-height: 28px;
            text-align: center;
            margin-right: 10px;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .pro-tip {
            background: #1a1a1a;
            border-left: 4px solid #88ccff;
            padding: 12px 15px;
            margin: 15px auto;
            font-size: 0.85em;
            text-align: left;
            max-width: 90%;
        }
        
        .reveal ul, .reveal ol {
            text-align: left;
            display: inline-block;
            max-width: 90%;
        }
        
        .key-point {
            background: linear-gradient(90deg, #2a2a2a, #1a1a1a);
            border-radius: 10px;
            padding: 25px;
            margin: 20px auto;
            font-size: 1.1em;
            font-weight: 500;
            border: 1px solid #444;
            max-width: 85%;
        }
        
        .section-divider {
            background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
            padding: 60px 40px;
            border-radius: 20px;
            border: 2px solid #444;
        }
        
        .emoji-icon {
            font-size: 2em;
            margin-bottom: 20px;
        }
        
        .reveal strong {
            color: #88ccff;
            font-weight: 600;
        }
        
        .reveal a {
            color: #88ccff;
        }
        
        .reveal a:hover {
            color: #aaddff;
        }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">
            
            <!-- Slide 1: Title -->
            <section>
                <div class="section-divider">
                    <h1>Analytics Integration</h1>
                    <h3 style="color: #88ccff; margin-top: 30px;">From Zero to Full Implementation</h3>
                    <p style="margin-top: 40px;">Microsoft Clarity ‚Ä¢ Google Analytics 4 ‚Ä¢ Google Tag Manager</p>
                    <p style="font-size: 0.7em; margin-top: 30px; color: #999;">
                        Navigate: <kbd>Space</kbd> or <kbd>‚Üí</kbd> | Overview: <kbd>ESC</kbd> | Fullscreen: <kbd>F</kbd>
                    </p>
                </div>
            </section>
            
            <!-- Slide 2: What You'll Learn -->
            <section>
                <h2>üéØ What You'll Learn Today</h2>
                <div class="key-point">
                    Build a complete analytics system that tracks every meaningful user interaction
                </div>
                <div class="two-columns" style="margin-top: 30px;">
                    <div class="info-box">
                        <h4>üìö Concepts</h4>
                        <ul>
                            <li>Why analytics matter for your product</li>
                            <li>Choosing the right analytics tools</li>
                            <li>Event tracking fundamentals</li>
                            <li>Custom properties and dimensions</li>
                            <li>Data pipeline architecture</li>
                        </ul>
                    </div>
                    <div class="info-box">
                        <h4>üõ†Ô∏è Implementation</h4>
                        <ul>
                            <li>Setting up Microsoft Clarity</li>
                            <li>Implementing Google Analytics 4</li>
                            <li>Configuring Google Tag Manager</li>
                            <li>Writing tracking utilities</li>
                            <li>Testing and debugging</li>
                        </ul>
                    </div>
                </div>
                <div class="pro-tip">
                    <strong>üì¶ Repository:</strong> All code is from our working implementation at
                    <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity" target="_blank">
                        github.com/ChakshuGautam/telemetry-ga-clarity
                    </a>
                </div>
            </section>
            
            <!-- Slide 3: Why Analytics Matter -->
            <section>
                <h2>Why Do We Need Analytics?</h2>
                <div class="highlight-box">
                    <p style="font-size: 1.2em; margin: 0;">
                        <strong>Without data, you're just another person with an opinion</strong>
                    </p>
                </div>
                <div class="two-columns" style="margin-top: 30px;">
                    <div class="info-box">
                        <h4 style="color: #ff6666;">‚ùå Without Analytics</h4>
                        <ul style="color: #ccc;">
                            <li>"I think users like this feature"</li>
                            <li>"The checkout seems broken"</li>
                            <li>"Traffic feels lower lately"</li>
                            <li>"Users probably want X"</li>
                        </ul>
                        <p style="margin-top: 15px; font-style: italic; color: #999;">
                            Decisions based on assumptions
                        </p>
                    </div>
                    <div class="info-box">
                        <h4 style="color: #66ff66;">‚úÖ With Analytics</h4>
                        <ul style="color: #ccc;">
                            <li>"87% of users engage with this feature"</li>
                            <li>"23% drop at payment (3.2s load)"</li>
                            <li>"2,341 DAU, down 5% WoW"</li>
                            <li>"Users who want X: 12 of 2,000"</li>
                        </ul>
                        <p style="margin-top: 15px; font-style: italic; color: #999;">
                            Data-driven decisions
                        </p>
                    </div>
                </div>
            </section>
            
            <!-- PART 1: MICROSOFT CLARITY -->
            
            <!-- Slide 4: Part 1 Divider -->
            <section>
                <div class="section-divider">
                    <div class="emoji-icon">üîç</div>
                    <h1 style="color: #88ccff;">Part 1</h1>
                    <h2>Start with Microsoft Clarity</h2>
                    <p style="margin-top: 30px;">See exactly what your users are doing</p>
                </div>
            </section>
            
            <!-- Slide 5: What is Clarity -->
            <section>
                <h2>What is Microsoft Clarity?</h2>
                <div class="key-point">
                    <strong>It's like having a camera on every user's screen</strong>
                    <br>Watch exactly how users interact with your app
                </div>
                
                <div class="two-columns" style="margin-top: 30px;">
                    <div class="info-box">
                        <h4>üé• Features</h4>
                        <ul>
                            <li><strong>Session Recordings</strong><br>
                                Watch real user sessions</li>
                            <li><strong>Heatmaps</strong><br>
                                See where users click/scroll</li>
                            <li><strong>Insights</strong><br>
                                Rage clicks, dead clicks, errors</li>
                        </ul>
                    </div>
                    <div class="info-box">
                        <h4>üí∞ Why Start Here?</h4>
                        <ul>
                            <li><strong>100% Free</strong><br>
                                No credit card, no limits</li>
                            <li><strong>5 Minute Setup</strong><br>
                                Just add one script</li>
                            <li><strong>Instant Value</strong><br>
                                See problems immediately</li>
                        </ul>
                    </div>
                </div>
                
                <div class="pro-tip">
                    <strong>üí° Pro Tip:</strong> Install Clarity first to understand user behavior visually,
                    then add GA4 for quantitative metrics
                </div>
            </section>
            
            <!-- Slide 6: Setting Up Clarity -->
            <section>
                <h2>Setting Up Clarity in 3 Steps</h2>
                
                <div class="info-box" style="margin-bottom: 15px;">
                    <p><span class="step-number">1</span>
                    Go to <a href="https://clarity.microsoft.com" target="_blank">clarity.microsoft.com</a>
                    ‚Üí Sign in ‚Üí Create new project</p>
                </div>
                
                <div class="info-box" style="margin-bottom: 15px;">
                    <p><span class="step-number">2</span>
                    Enter your website URL ‚Üí Get your unique project ID</p>
                </div>
                
                <div class="info-box">
                    <p><span class="step-number">3</span>
                    Add this script to your HTML <code>&lt;head&gt;</code>:</p>
                </div>
                
                <pre><code class="language-html">&lt;script type="text/javascript"&gt;
  (function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
  })(window, document, "clarity", "script", "YOUR_PROJECT_ID");
&lt;/script&gt;</code></pre>
                
                <div class="highlight-box">
                    ‚úÖ <strong>Done!</strong> Clarity starts recording sessions immediately
                </div>
            </section>
            
            <!-- Slide 7: Our Clarity Implementation -->
            <section>
                <h2>Our Clarity Implementation</h2>
                <pre><code class="language-html">&lt;!-- telemetry-demo/index.html --&gt;
&lt;script type="text/javascript"&gt;
  (function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
  })(window, document, "clarity", "script", "t1ori1zqey");
&lt;/script&gt;</code></pre>
                
                <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity/blob/main/telemetry-demo/index.html#L27-L33" 
                   class="code-link" target="_blank">
                   View in GitHub ‚Üí
                </a>
                
                <div class="info-box" style="margin-top: 30px;">
                    <h4>Key Points</h4>
                    <ul>
                        <li>Project ID: <code>t1ori1zqey</code> - unique to each project</li>
                        <li>Loads asynchronously - won't slow down your page</li>
                        <li>GDPR compliant - no cookies by default</li>
                    </ul>
                </div>
            </section>
            
            <!-- Slide 8: Custom Tags in Clarity -->
            <section>
                <h2>Adding Custom Tags to Sessions</h2>
                <div class="pro-tip">
                    <strong>Why Custom Tags?</strong> Filter recordings by user type, feature usage, or any custom criteria
                </div>
                
                <pre><code class="language-typescript">// src/utils/tracking.ts
export const trackClarityCustomEvent = (
  eventName: string,
  customTag?: Record&lt;string, any&gt;
) => {
  if (typeof window !== 'undefined' && window.clarity) {
    window.clarity('set', eventName, customTag);
    console.log('üîç Clarity Event:', eventName, customTag);
  }
};</code></pre>
                
                <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity/blob/main/telemetry-demo/src/utils/tracking.ts#L31-L39" 
                   class="code-link" target="_blank">
                   View in GitHub ‚Üí
                </a>
                
                <div class="highlight-box" style="margin-top: 20px;">
                    <strong>Example Use Cases:</strong>
                    <ul style="margin: 10px 0;">
                        <li>Tag premium vs free users</li>
                        <li>Mark sessions with errors</li>
                        <li>Identify feature usage patterns</li>
                    </ul>
                </div>
            </section>
            
            <!-- Slide 9: Real Example -->
            <section>
                <h2>Real Example: Tracking Sign-ups</h2>
                <pre><code class="language-typescript">// src/pages/HomePage.tsx
const handleSignupClick = () => {
  // Send to Google Analytics
  trackGTMEvent('sign_up', {
    method: 'email',
    event_category: 'engagement',
  });
  
  // Tag this Clarity session
  trackClarityCustomEvent('SignupAttempt', { 
    page: 'home',
    method: 'email' 
  });
};</code></pre>
                
                <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity/blob/main/telemetry-demo/src/pages/HomePage.tsx#L39-L50" 
                   class="code-link" target="_blank">
                   View in GitHub ‚Üí
                </a>
                
                <div class="two-columns" style="margin-top: 25px;">
                    <div class="info-box">
                        <h4>In Clarity Dashboard</h4>
                        <p>Filter: <code>SignupAttempt = true</code></p>
                        <p>‚Üí See only users who tried to sign up</p>
                    </div>
                    <div class="info-box">
                        <h4>What You Learn</h4>
                        <p>‚Ä¢ What did they do before?</p>
                        <p>‚Ä¢ Did they complete it?</p>
                        <p>‚Ä¢ Where did they struggle?</p>
                    </div>
                </div>
            </section>
            
            <!-- PART 2: GOOGLE ANALYTICS -->
            
            <!-- Slide 10: Part 2 Divider -->
            <section>
                <div class="section-divider">
                    <div class="emoji-icon">üìä</div>
                    <h1 style="color: #88ccff;">Part 2</h1>
                    <h2>Add Google Analytics 4</h2>
                    <p style="margin-top: 30px;">Measure everything with numbers</p>
                </div>
            </section>
            
            <!-- Slide 11: Why GA4 -->
            <section>
                <h2>Why Add Google Analytics?</h2>
                <div class="key-point">
                    Clarity shows <strong>HOW</strong> users behave<br>
                    GA4 shows <strong>HOW MANY</strong> and <strong>WHEN</strong>
                </div>
                
                <table class="comparison-table" style="margin-top: 30px;">
                    <thead>
                        <tr>
                            <th>Question</th>
                            <th>Clarity Answer</th>
                            <th>GA4 Answer</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>User confusion?</strong></td>
                            <td>Watch recording of rage clicks</td>
                            <td>15% drop-off at step 3</td>
                        </tr>
                        <tr>
                            <td><strong>Feature popular?</strong></td>
                            <td>See heatmap of button</td>
                            <td>2,341 clicks this week (+12%)</td>
                        </tr>
                        <tr>
                            <td><strong>Performance issue?</strong></td>
                            <td>User waiting on slow page</td>
                            <td>Avg load: 3.2s (P95: 7.1s)</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="highlight-box" style="margin-top: 25px;">
                    <strong>Together = Complete Picture:</strong> Visual behavior + Quantitative metrics
                </div>
            </section>
            
            <!-- Slide 12: Implementation Approaches -->
            <section>
                <h2>Three Ways to Implement GA4</h2>
                
                <div class="info-box" style="margin-bottom: 15px;">
                    <h3>1Ô∏è‚É£ Direct gtag.js</h3>
                    <p>‚úÖ Simple and direct | ‚ùå Code changes for updates</p>
                    <code style="font-size: 0.8em;">window.gtag('event', 'purchase', {...})</code>
                </div>
                
                <div class="info-box" style="margin-bottom: 15px; border: 2px solid #88ccff;">
                    <h3>2Ô∏è‚É£ Google Tag Manager (Recommended)</h3>
                    <p>‚úÖ No-code updates | ‚úÖ Marketing autonomy | ‚úÖ Multiple tools</p>
                    <code style="font-size: 0.8em;">window.dataLayer.push({event: 'purchase', ...})</code>
                </div>
                
                <div class="info-box">
                    <h3>3Ô∏è‚É£ React-GA4 Library</h3>
                    <p>‚úÖ Type-safe | ‚úÖ React hooks | ‚ùå Only for React</p>
                    <code style="font-size: 0.8em;">ReactGA.event('purchase', {...})</code>
                </div>
                
                <div class="pro-tip" style="margin-top: 20px;">
                    <strong>Our Approach:</strong> We use GTM + direct gtag for maximum flexibility
                </div>
            </section>
            
            <!-- Slide 13: GTM Setup -->
            <section>
                <h2>Setting Up Google Tag Manager</h2>
                
                <pre><code class="language-html">&lt;!-- Add to &lt;head&gt; --&gt;
&lt;script&gt;(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-XXXXXX');&lt;/script&gt;

&lt;!-- Add after &lt;body&gt; --&gt;
&lt;noscript&gt;&lt;iframe src="https://www.googletagmanager.com/ns.html?id=GTM-XXXXXX"
height="0" width="0" style="display:none;visibility:hidden"&gt;&lt;/iframe&gt;&lt;/noscript&gt;</code></pre>
                
                <div class="info-box" style="margin-top: 20px;">
                    <h4>Our Implementation</h4>
                    <ul>
                        <li>Container ID: <code>GTM-MT9MWSLQ</code></li>
                        <li>Location: <code>index.html</code> lines 9-15 and 27-30</li>
                        <li>Creates global <code>dataLayer</code> array</li>
                    </ul>
                </div>
                
                <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity/blob/main/telemetry-demo/index.html#L9-L15" 
                   class="code-link" target="_blank">
                   View in GitHub ‚Üí
                </a>
            </section>
            
            <!-- Slide 14: Tracking Function -->
            <section>
                <h2>Our Tracking Implementation</h2>
                <pre><code class="language-typescript">// src/utils/tracking.ts
export const trackGTMEvent = (
  eventName: string,
  parameters?: Record&lt;string, any&gt;
) => {
  if (typeof window !== 'undefined') {
    // Send to GTM via dataLayer
    if (window.dataLayer) {
      window.dataLayer.push({
        event: eventName,
        ...parameters
      });
      console.log('GTM Event:', eventName, parameters);
    }
    
    // Also send directly to GA4
    if (window.gtag) {
      window.gtag('event', eventName, parameters);
      console.log('GA4 Direct:', eventName, parameters);
    }
  }
};</code></pre>
                
                <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity/blob/main/telemetry-demo/src/utils/tracking.ts#L9-L29" 
                   class="code-link" target="_blank">
                   View in GitHub ‚Üí
                </a>
            </section>
            
            <!-- PART 3: CUSTOM PROPERTIES -->
            
            <!-- Slide 15: Part 3 Divider -->
            <section>
                <div class="section-divider">
                    <div class="emoji-icon">üéØ</div>
                    <h1 style="color: #88ccff;">Part 3</h1>
                    <h2>Custom Properties & Events</h2>
                    <p style="margin-top: 30px;">Turn raw data into business insights</p>
                </div>
            </section>
            
            <!-- Slide 16: Event Structure -->
            <section>
                <h2>Anatomy of a Good Event</h2>
                <pre><code class="language-javascript">{
  // What happened?
  event_name: "button_click",
  
  // Standard GA4 parameters
  event_category: "engagement",
  event_label: "hero_cta",
  value: 1,
  
  // Your custom properties
  button_text: "Get Started",
  page_section: "hero",
  user_type: "free",
  ab_test_variant: "variant_b",
  session_duration_seconds: 145
}</code></pre>
                
                <div class="key-point" style="margin-top: 25px;">
                    <strong>Rule of Thumb:</strong><br>
                    Events answer "what happened"<br>
                    Properties answer "under what conditions"
                </div>
            </section>
            
            <!-- Slide 17: Real Example - Basic -->
            <section>
                <h2>Example: Enhanced Button Tracking</h2>
                <pre><code class="language-typescript">// src/pages/HomePage.tsx
const handleButtonClick = () => {
  const newCount = clickCount + 1;
  setClickCount(newCount);
  
  trackGTMEvent('button_click', {
    // Standard parameters
    event_category: 'engagement',
    event_label: 'home_page_button',
    value: newCount,
    
    // Custom business context
    button_text: 'Track Engagement Event',
    page_section: 'hero',
    click_count: newCount,
    session_duration: Math.floor((Date.now() - startTime) / 1000),
    viewport_width: window.innerWidth,
    is_mobile: window.innerWidth < 768
  });
};</code></pre>
                
                <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity/blob/main/telemetry-demo/src/pages/HomePage.tsx#L7-L24" 
                   class="code-link" target="_blank">
                   View in GitHub ‚Üí
                </a>
            </section>
            
            <!-- Slide 18: E-commerce Example -->
            <section>
                <h2>Example: E-commerce Events</h2>
                <pre><code class="language-typescript">// src/pages/HomePage.tsx
trackGTMEvent('purchase', {
  // Standard GA4 e-commerce parameters
  transaction_id: `order_${Date.now()}`,
  value: 99.99,
  currency: 'USD',
  items: [{
    item_id: 'SKU123',
    item_name: 'Premium Plan',
    item_category: 'Subscription',
    price: 99.99,
    quantity: 1
  }],
  
  // Custom business properties
  payment_type: 'credit_card',
  coupon_code: 'SAVE20',
  is_first_purchase: true,
  referral_source: 'email_campaign',
  checkout_duration_seconds: 45
});</code></pre>
                
                <div class="pro-tip" style="margin-top: 20px;">
                    <strong>üí° Tip:</strong> GA4 automatically processes standard e-commerce parameters
                    for built-in reports
                </div>
            </section>
            
            <!-- Slide 19: Why Custom Properties Matter -->
            <section>
                <h2>The Power of Custom Properties</h2>
                
                <div class="two-columns">
                    <div class="info-box">
                        <h4 style="color: #ff6666;">Without Custom Properties</h4>
                        <p style="font-size: 0.9em; color: #ccc;">
                            "1,000 button clicks happened"
                        </p>
                        <ul style="color: #999; font-size: 0.85em;">
                            <li>Basic event counts</li>
                            <li>Limited segmentation</li>
                            <li>No context</li>
                        </ul>
                    </div>
                    <div class="info-box">
                        <h4 style="color: #66ff66;">With Custom Properties</h4>
                        <p style="font-size: 0.9em; color: #ccc;">
                            "Premium users on mobile clicked 3x more than free users on desktop"
                        </p>
                        <ul style="color: #999; font-size: 0.85em;">
                            <li>User segmentation</li>
                            <li>Behavior patterns</li>
                            <li>Business insights</li>
                        </ul>
                    </div>
                </div>
                
                <div class="highlight-box" style="margin-top: 25px;">
                    <strong>Real Example from Our Data:</strong><br>
                    "Users who see variant_b convert 23% better on mobile devices 
                    when session duration exceeds 2 minutes"
                </div>
            </section>
            
            <!-- PART 4: IMPLEMENTATION PATTERNS -->
            
            <!-- Slide 20: Part 4 Divider -->
            <section>
                <div class="section-divider">
                    <div class="emoji-icon">üõ†Ô∏è</div>
                    <h1 style="color: #88ccff;">Part 4</h1>
                    <h2>Implementation Patterns</h2>
                    <p style="margin-top: 30px;">Production-ready code patterns</p>
                </div>
            </section>
            
            <!-- Slide 21: Page Tracking -->
            <section>
                <h2>Automatic Page View Tracking</h2>
                <pre><code class="language-typescript">// src/App.tsx
function AppContent() {
  const location = useLocation();
  
  useEffect(() => {
    const pageTitles: Record&lt;string, string&gt; = {
      '/': 'Home',
      '/about': 'About',
      '/custom-properties': 'Custom Properties'
    };
    
    const pageTitle = pageTitles[location.pathname] || 'Unknown';
    
    // Track page view with context
    trackPageView(location.pathname, pageTitle);
  }, [location]); // Runs on every route change
  
  return &lt;Routes&gt;...&lt;/Routes&gt;;
}</code></pre>
                
                <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity/blob/main/telemetry-demo/src/App.tsx#L94-L103" 
                   class="code-link" target="_blank">
                   View in GitHub ‚Üí
                </a>
                
                <div class="pro-tip">
                    <strong>Result:</strong> Every navigation is automatically tracked with page title and path
                </div>
            </section>
            
            <!-- Slide 22: Error-Safe Pattern -->
            <section>
                <h2>Production-Safe Implementation</h2>
                <pre><code class="language-typescript">export const safeTrackEvent = (
  eventName: string, 
  properties?: any
) => {
  try {
    // Check environment
    if (typeof window === 'undefined') return;
    
    // Check if scripts loaded
    if (!window.dataLayer && !window.gtag) {
      console.warn('Analytics not loaded');
      return;
    }
    
    // Send event
    trackGTMEvent(eventName, {
      ...properties,
      timestamp: new Date().toISOString(),
      page_url: window.location.href
    });
    
  } catch (error) {
    // Never break the app for analytics
    console.error('Tracking failed:', error);
  }
};</code></pre>
                
                <div class="highlight-box">
                    <strong>Key Principle:</strong> Analytics should never break user experience
                </div>
            </section>
            
            <!-- Slide 23: Testing -->
            <section>
                <h2>Testing Your Implementation</h2>
                
                <div class="two-columns">
                    <div class="info-box">
                        <h4>üîç Clarity Testing</h4>
                        <ol style="font-size: 0.85em;">
                            <li>Install and browse your site</li>
                            <li>Go to Clarity dashboard</li>
                            <li>See sessions in real-time</li>
                            <li>Check custom tags</li>
                        </ol>
                    </div>
                    <div class="info-box">
                        <h4>üìä GA4 Testing</h4>
                        <ol style="font-size: 0.85em;">
                            <li>Open GA4 DebugView</li>
                            <li>Browse your site</li>
                            <li>See events instantly</li>
                            <li>Verify parameters</li>
                        </ol>
                    </div>
                </div>
                
                <div class="info-box" style="margin-top: 20px;">
                    <h4>üõ†Ô∏è Browser Console</h4>
                    <pre><code class="language-javascript">// Check if loaded
console.log(window.dataLayer);  // GTM events
console.log(window.clarity);    // Clarity object
console.log(window.gtag);       // GA4 function

// Manual test
window.dataLayer.push({
  event: 'test_event',
  test_param: 'test_value'
});</code></pre>
                </div>
            </section>
            
            <!-- Slide 24: Common Mistakes -->
            <section>
                <h2>Common Mistakes to Avoid</h2>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Mistake</th>
                            <th>Problem</th>
                            <th>Solution</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Tracking before load</strong></td>
                            <td>Events lost</td>
                            <td>Check <code>if (window.gtag)</code></td>
                        </tr>
                        <tr>
                            <td><strong>Too many properties</strong></td>
                            <td>GA4 limit: 25 per event</td>
                            <td>Send only essential data</td>
                        </tr>
                        <tr>
                            <td><strong>PII in events</strong></td>
                            <td>Privacy violations</td>
                            <td>Hash/remove emails, names</td>
                        </tr>
                        <tr>
                            <td><strong>No error handling</strong></td>
                            <td>App crashes</td>
                            <td>Wrap in try-catch</td>
                        </tr>
                        <tr>
                            <td><strong>Duplicate tracking</strong></td>
                            <td>Inflated metrics</td>
                            <td>Centralize tracking calls</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="pro-tip" style="margin-top: 20px;">
                    <strong>Remember:</strong> Test in development, verify in staging, monitor in production
                </div>
            </section>
            
            <!-- PART 5: DATA PIPELINE -->
            
            <!-- Slide 25: Part 5 Divider -->
            <section>
                <div class="section-divider">
                    <div class="emoji-icon">üîó</div>
                    <h1 style="color: #88ccff;">Part 5</h1>
                    <h2>Data Pipeline & Analysis</h2>
                    <p style="margin-top: 30px;">From events to insights</p>
                </div>
            </section>
            
            <!-- Slide 26: GA4 to BigQuery -->
            <section>
                <h2>Exporting to BigQuery</h2>
                
                <div class="info-box" style="margin-bottom: 15px;">
                    <h4>Setup Process</h4>
                    <ol style="font-size: 0.85em;">
                        <li>GA4 Admin ‚Üí BigQuery Links ‚Üí Link</li>
                        <li>Select Google Cloud Project</li>
                        <li>Choose daily export (free) or streaming (paid)</li>
                        <li>Data appears within 24 hours</li>
                    </ol>
                </div>
                
                <pre><code class="language-sql">-- Query your custom properties in BigQuery
SELECT 
  event_name,
  (SELECT value.string_value 
   FROM UNNEST(event_params) 
   WHERE key = 'button_text') as button_text,
  (SELECT value.int_value 
   FROM UNNEST(event_params) 
   WHERE key = 'click_count') as clicks,
  COUNT(*) as total_events
FROM `project.analytics_123456.events_*`
WHERE event_name = 'button_click'
  AND _TABLE_SUFFIX BETWEEN '20240101' AND '20240131'
GROUP BY event_name, button_text, clicks;</code></pre>
                
                <div class="highlight-box">
                    <strong>Power Move:</strong> Your custom properties become SQL-queryable columns!
                </div>
            </section>
            
            <!-- Slide 27: Repository Structure -->
            <section>
                <h2>Our Implementation Structure</h2>
                <pre><code class="language-bash">telemetry-demo/
‚îú‚îÄ‚îÄ index.html                    # Analytics scripts
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tracking.ts          # Core tracking functions
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tracking-comparison.ts # All approaches
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HomePage.tsx         # Basic events
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AboutPage.tsx        # Content tracking
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CustomPropertiesPage.tsx # Advanced examples
‚îÇ   ‚îî‚îÄ‚îÄ App.tsx                  # Route tracking
‚îî‚îÄ‚îÄ public/
    ‚îî‚îÄ‚îÄ docs/                    # This presentation</code></pre>
                
                <div class="two-columns" style="margin-top: 25px;">
                    <div class="info-box">
                        <h4>Live Demo</h4>
                        <p>Visit any page and open console to see events being tracked in real-time</p>
                    </div>
                    <div class="info-box">
                        <h4>Repository</h4>
                        <p><a href="https://github.com/ChakshuGautam/telemetry-ga-clarity" target="_blank">
                            github.com/ChakshuGautam/telemetry-ga-clarity
                        </a></p>
                    </div>
                </div>
            </section>
            
            <!-- Slide 28: Key Takeaways -->
            <section>
                <h2>Key Takeaways</h2>
                
                <div class="info-box" style="margin-bottom: 20px;">
                    <h3 style="color: #88ccff;">1. Start Simple</h3>
                    <p>Begin with Clarity for visual insights, then add GA4 for metrics</p>
                </div>
                
                <div class="info-box" style="margin-bottom: 20px;">
                    <h3 style="color: #88ccff;">2. Track Everything Meaningful</h3>
                    <p>If it affects business decisions, track it with proper context</p>
                </div>
                
                <div class="info-box" style="margin-bottom: 20px;">
                    <h3 style="color: #88ccff;">3. Use Custom Properties</h3>
                    <p>Transform generic events into specific business insights</p>
                </div>
                
                <div class="info-box" style="margin-bottom: 20px;">
                    <h3 style="color: #88ccff;">4. Test Thoroughly</h3>
                    <p>Use DebugView, console logs, and test environments</p>
                </div>
                
                <div class="info-box">
                    <h3 style="color: #88ccff;">5. Never Break UX</h3>
                    <p>Analytics should fail silently, not crash your app</p>
                </div>
            </section>
            
            <!-- Slide 29: Resources -->
            <section>
                <h2>Resources & Links</h2>
                
                <div class="two-columns">
                    <div class="info-box">
                        <h4>üìö Documentation</h4>
                        <ul style="font-size: 0.85em;">
                            <li><a href="https://clarity.microsoft.com/docs" target="_blank">Microsoft Clarity Docs</a></li>
                            <li><a href="https://developers.google.com/analytics/devguides/collection/ga4" target="_blank">GA4 Developer Guide</a></li>
                            <li><a href="https://tagmanager.google.com/gallery" target="_blank">GTM Template Gallery</a></li>
                            <li><a href="https://support.google.com/analytics/answer/9358801" target="_blank">GA4 Events Reference</a></li>
                        </ul>
                    </div>
                    <div class="info-box">
                        <h4>üõ†Ô∏è Tools</h4>
                        <ul style="font-size: 0.85em;">
                            <li><a href="https://tagassistant.google.com/" target="_blank">Google Tag Assistant</a></li>
                            <li><a href="https://ga-dev-tools.google/" target="_blank">GA Dev Tools</a></li>
                            <li><a href="https://analytics.google.com/analytics/academy/" target="_blank">Analytics Academy</a></li>
                            <li><a href="https://chrome.google.com/webstore/detail/tag-assistant-legacy-by-g/kejbdjndbnbjgmefkgdddjlbokphdefk" target="_blank">Tag Assistant Extension</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="highlight-box" style="margin-top: 30px;">
                    <strong>üì¶ Get the Code:</strong>
                    <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity" target="_blank" 
                       style="display: block; margin-top: 10px; font-size: 1.1em;">
                        github.com/ChakshuGautam/telemetry-ga-clarity
                    </a>
                </div>
            </section>
            
            <!-- Slide 30: Thank You -->
            <section>
                <div class="section-divider">
                    <h1>Thank You! üôè</h1>
                    <p style="font-size: 1.3em; margin-top: 40px;">Questions?</p>
                    
                    <div style="margin-top: 50px;">
                        <p style="font-size: 0.9em;">
                            <strong>Repository:</strong>
                            <a href="https://github.com/ChakshuGautam/telemetry-ga-clarity" target="_blank">
                                github.com/ChakshuGautam/telemetry-ga-clarity
                            </a>
                        </p>
                        <p style="font-size: 0.9em; margin-top: 20px;">
                            <strong>Contact:</strong> chakshu@samagragovernance.in
                        </p>
                    </div>
                    
                    <p style="font-size: 0.7em; margin-top: 40px; color: #666;">
                        Press <kbd>ESC</kbd> for slide overview
                    </p>
                </div>
            </section>
            
        </div>
    </div>
    
    <!-- Reveal.js Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/reveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/highlight/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/notes/notes.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/markdown/markdown.min.js"></script>
    
    <script>
        Reveal.initialize({
            hash: true,
            controls: true,
            progress: true,
            center: true,
            transition: 'slide',
            backgroundTransition: 'fade',
            width: '100%',
            height: '100%',
            plugins: [ RevealHighlight, RevealNotes, RevealMarkdown ]
        });
    </script>
</body>
</html>