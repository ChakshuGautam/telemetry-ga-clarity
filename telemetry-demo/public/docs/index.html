<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Integration: From Code to Insights</title>
    
    <!-- Reveal.js CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/theme/black.min.css">
    
    <!-- Syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/highlight/monokai.min.css">
    
    <!-- Custom styles -->
    <style>
        .reveal h1, .reveal h2, .reveal h3 {
            color: #61dafb;
            text-transform: none;
            line-height: 1.2;
        }
        
        .reveal h1 {
            font-size: 2.5em;
        }
        
        .reveal h2 {
            font-size: 1.8em;
        }
        
        .reveal h3 {
            font-size: 1.3em;
        }
        
        .reveal {
            font-size: 32px;
        }
        
        .reveal p, .reveal li {
            font-size: 0.85em;
            line-height: 1.4;
        }
        
        .reveal .slides section {
            text-align: left;
        }
        
        .reveal .slides section.center {
            text-align: center;
        }
        
        .reveal code {
            background: #2a2a2a;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.75em;
        }
        
        .reveal pre code {
            background: none;
            padding: 0;
            max-height: 400px;
            font-size: 0.7em;
            line-height: 1.3;
        }
        
        .comparison-table {
            width: 100%;
            margin: 20px 0;
            border-collapse: collapse;
        }
        
        .comparison-table th {
            background: #1976d2;
            color: white;
            padding: 8px;
            text-align: left;
            font-size: 0.85em;
        }
        
        .comparison-table td {
            padding: 8px;
            border: 1px solid #444;
            font-size: 0.8em;
        }
        
        .highlight-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-size: 0.85em;
        }
        
        .two-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .architecture-box {
            background: #1a1a1a;
            border: 2px solid #61dafb;
            border-radius: 8px;
            padding: 12px;
            margin: 8px 0;
            font-size: 0.85em;
        }
        
        .architecture-box h3, .architecture-box h4 {
            margin-top: 0;
            margin-bottom: 10px;
        }
        
        .reveal .progress {
            color: #61dafb;
        }
        
        .reveal .controls {
            color: #61dafb;
        }
        
        .emoji-large {
            font-size: 1.5em;
            margin: 0 5px;
        }
        
        .code-link {
            color: #61dafb;
            text-decoration: underline;
            font-size: 0.8em;
            display: block;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">
            
            <!-- Part 1: Foundation -->
            
            <!-- Slide 1: Title -->
            <section class="center">
                <h1>Analytics Integration</h1>
                <h2 style="font-size: 1.3em; color: #a1a1aa;">From Code to Insights</h2>
                <p style="margin-top: 50px;">Google Tag Manager ‚Ä¢ React-GA4 ‚Ä¢ Data Visualization Pipeline</p>
                <p style="font-size: 0.8em; margin-top: 40px; color: #666;">Navigate: Space/Arrow Keys | Overview: ESC</p>
            </section>
            
            <!-- Slide 2: Agenda -->
            <section>
                <h2>üìã Agenda</h2>
                <ol>
                    <li>Analytics Fundamentals</li>
                    <li>Google Tag Manager (GTM) Overview</li>
                    <li>React-GA4 Library Deep Dive</li>
                    <li>Custom Events Architecture</li>
                    <li>Implementation Patterns</li>
                    <li>Data Pipeline: GA4 ‚Üí BigQuery ‚Üí Looker Studio</li>
                    <li>Live Demo & Code Examples</li>
                </ol>
                <div class="highlight-box" style="margin-top: 30px;">
                    <p><strong>Repository:</strong> All code examples are from our live implementation</p>
                </div>
            </section>
            
            <!-- Slide 3: Why Analytics Matter -->
            <section>
                <h2>üéØ Why Analytics Matter</h2>
                <div class="two-columns">
                    <div>
                        <h3>Business Value</h3>
                        <ul>
                            <li>User behavior insights</li>
                            <li>Data-driven decisions</li>
                            <li>ROI measurement</li>
                            <li>Customer journey mapping</li>
                        </ul>
                    </div>
                    <div>
                        <h3>Technical Benefits</h3>
                        <ul>
                            <li>Performance monitoring</li>
                            <li>Error tracking</li>
                            <li>Feature adoption</li>
                            <li>A/B testing data</li>
                        </ul>
                    </div>
                </div>
                <div class="architecture-box" style="margin-top: 30px;">
                    <strong>Key Insight:</strong> Analytics bridge the gap between code and business outcomes
                </div>
            </section>
            
            <!-- Slide 4: Analytics Ecosystem Overview -->
            <section>
                <h2>üèóÔ∏è Analytics Ecosystem</h2>
                <div style="text-align: center;">
                    <svg width="800" height="400" viewBox="0 0 800 400">
                        <!-- React App -->
                        <rect x="50" y="50" width="150" height="80" fill="#61dafb" rx="5"/>
                        <text x="125" y="95" text-anchor="middle" fill="black" font-weight="bold">React App</text>
                        
                        <!-- Arrow to GTM -->
                        <line x1="200" y1="90" x2="250" y2="90" stroke="white" stroke-width="2" marker-end="url(#arrowhead)"/>
                        
                        <!-- GTM -->
                        <rect x="250" y="50" width="150" height="80" fill="#4285f4" rx="5"/>
                        <text x="325" y="95" text-anchor="middle" fill="white" font-weight="bold">GTM</text>
                        
                        <!-- Arrow to GA4 -->
                        <line x1="400" y1="90" x2="450" y2="90" stroke="white" stroke-width="2" marker-end="url(#arrowhead)"/>
                        
                        <!-- GA4 -->
                        <rect x="450" y="50" width="150" height="80" fill="#ea4335" rx="5"/>
                        <text x="525" y="95" text-anchor="middle" fill="white" font-weight="bold">GA4</text>
                        
                        <!-- Arrow to BigQuery -->
                        <line x1="525" y1="130" x2="525" y2="180" stroke="white" stroke-width="2" marker-end="url(#arrowhead)"/>
                        
                        <!-- BigQuery -->
                        <rect x="450" y="180" width="150" height="80" fill="#34a853" rx="5"/>
                        <text x="525" y="225" text-anchor="middle" fill="white" font-weight="bold">BigQuery</text>
                        
                        <!-- Arrow to Looker -->
                        <line x1="525" y1="260" x2="525" y2="310" stroke="white" stroke-width="2" marker-end="url(#arrowhead)"/>
                        
                        <!-- Looker Studio -->
                        <rect x="450" y="310" width="150" height="80" fill="#fbbc04" rx="5"/>
                        <text x="525" y="355" text-anchor="middle" fill="black" font-weight="bold">Looker Studio</text>
                        
                        <!-- Arrow marker definition -->
                        <defs>
                            <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="white"/>
                            </marker>
                        </defs>
                    </svg>
                </div>
            </section>
            
            <!-- Slide 5: Key Concepts -->
            <section>
                <h2>üìö Key Concepts</h2>
                <table class="comparison-table">
                    <tr>
                        <th>Concept</th>
                        <th>Description</th>
                        <th>Example</th>
                    </tr>
                    <tr>
                        <td><strong>Events</strong></td>
                        <td>User interactions with content</td>
                        <td><code>button_click</code>, <code>video_play</code></td>
                    </tr>
                    <tr>
                        <td><strong>Pageviews</strong></td>
                        <td>Page loading events</td>
                        <td><code>/home</code>, <code>/about</code></td>
                    </tr>
                    <tr>
                        <td><strong>Sessions</strong></td>
                        <td>Group of user interactions</td>
                        <td>30-minute activity window</td>
                    </tr>
                    <tr>
                        <td><strong>Users</strong></td>
                        <td>Unique visitors</td>
                        <td>Cookie/Device based</td>
                    </tr>
                    <tr>
                        <td><strong>Parameters</strong></td>
                        <td>Additional event context</td>
                        <td><code>value</code>, <code>page_location</code></td>
                    </tr>
                </table>
                <div class="architecture-box" style="margin-top: 20px;">
                    <span class="emoji-large">‚ö†Ô∏è</span> <strong>Privacy First:</strong> Always comply with GDPR, CCPA regulations
                </div>
            </section>
            
            <!-- Part 2: Google Tag Manager -->
            
            <!-- Slide 6: What is GTM -->
            <section>
                <h2>üè∑Ô∏è What is Google Tag Manager?</h2>
                <div class="two-columns">
                    <div>
                        <h3>Core Features</h3>
                        <ul>
                            <li>Tag management system</li>
                            <li>No-code deployment</li>
                            <li>Version control</li>
                            <li>Debug mode</li>
                            <li>User permissions</li>
                        </ul>
                    </div>
                    <div>
                        <h3>Benefits</h3>
                        <ul>
                            <li>Marketing autonomy</li>
                            <li>Faster iterations</li>
                            <li>Reduced dev cycles</li>
                            <li>Testing capabilities</li>
                            <li>Third-party integrations</li>
                        </ul>
                    </div>
                </div>
                <pre><code class="language-javascript">// No more hardcoding tags!
// Marketing team can add/modify tags without deployment</code></pre>
            </section>
            
            <!-- Slide 7: GTM Architecture -->
            <section>
                <h2>üèõÔ∏è GTM Architecture</h2>
                <div class="architecture-box">
                    <h3>Container: <code>GTM-MT9MWSLQ</code></h3>
                    <p>Your unique GTM workspace</p>
                </div>
                <div class="two-columns" style="margin-top: 20px;">
                    <div class="architecture-box">
                        <h4>üìå Tags</h4>
                        <p>What fires (GA4, Facebook Pixel, etc.)</p>
                    </div>
                    <div class="architecture-box">
                        <h4>‚ö° Triggers</h4>
                        <p>When to fire (Page View, Click, etc.)</p>
                    </div>
                </div>
                <div class="two-columns" style="margin-top: 20px;">
                    <div class="architecture-box">
                        <h4>üìä Variables</h4>
                        <p>Dynamic values (Page URL, Click Text)</p>
                    </div>
                    <div class="architecture-box">
                        <h4>üîÑ Data Layer</h4>
                        <p>Communication bridge with your app</p>
                    </div>
                </div>
            </section>
            
            <!-- Slide 8: DataLayer Explained -->
            <section>
                <h2>üì¶ DataLayer Explained</h2>
                <pre><code class="language-javascript">// From src/utils/tracking.ts:8-19
export const trackGTMEvent = (
  eventName: string,
  parameters?: Record&lt;string, any&gt;
) => {
  if (typeof window !== 'undefined' && window.dataLayer) {
    window.dataLayer.push({
      event: eventName,
      ...parameters
    });
    console.log('GTM Event:', eventName, parameters);
  }
};</code></pre>
                <a href="https://github.com/yourusername/telemetry-demo/blob/main/src/utils/tracking.ts#L8-L19" class="code-link" target="_blank">View in Repository ‚Üí</a>
                <div class="architecture-box" style="margin-top: 20px;">
                    <strong>Best Practice:</strong> Always check for <code>window.dataLayer</code> existence
                </div>
            </section>
            
            <!-- Slide 9: GTM Setup in React -->
            <section>
                <h2>‚öõÔ∏è GTM Setup in React</h2>
                <pre><code class="language-html">&lt;!-- From index.html:9-15 --&gt;
&lt;!-- Google Tag Manager --&gt;
&lt;script&gt;(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MT9MWSLQ');&lt;/script&gt;
&lt;!-- End Google Tag Manager --&gt;</code></pre>
                <a href="https://github.com/yourusername/telemetry-demo/blob/main/index.html#L9-L15" class="code-link" target="_blank">View in Repository ‚Üí</a>
                <div class="highlight-box" style="margin-top: 20px;">
                    <strong>Pro Tip:</strong> Use environment variables for GTM ID in production
                </div>
            </section>
            
            <!-- Slide 10: GTM Benefits -->
            <section>
                <h2>‚úÖ GTM Benefits</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="architecture-box">
                        <h3>üöÄ Speed</h3>
                        <p>Deploy tags in minutes, not sprints</p>
                    </div>
                    <div class="architecture-box">
                        <h3>üî¨ Testing</h3>
                        <p>Preview mode for safe testing</p>
                    </div>
                    <div class="architecture-box">
                        <h3>üë• Collaboration</h3>
                        <p>Marketing & Dev work independently</p>
                    </div>
                    <div class="architecture-box">
                        <h3>üîå Integrations</h3>
                        <p>100+ built-in tag templates</p>
                    </div>
                </div>
            </section>
            
            <!-- Part 3: React-GA4 Library -->
            
            <!-- Slide 11: React-GA4 Overview -->
            <section>
                <h2>üìä React-GA4 Overview</h2>
                <div class="architecture-box">
                    <h3>Installation</h3>
                    <pre><code class="language-bash">npm install react-ga4</code></pre>
                </div>
                <div class="two-columns" style="margin-top: 20px;">
                    <div>
                        <h3>Features</h3>
                        <ul>
                            <li>Official React wrapper</li>
                            <li>TypeScript support</li>
                            <li>Simplified API</li>
                            <li>Auto page tracking</li>
                        </ul>
                    </div>
                    <div>
                        <h3>Use Cases</h3>
                        <ul>
                            <li>Direct GA4 integration</li>
                            <li>No GTM needed</li>
                            <li>Custom implementations</li>
                            <li>Testing environments</li>
                        </ul>
                    </div>
                </div>
            </section>
            
            <!-- Slide 12: React-GA4 vs Direct Implementation -->
            <section>
                <h2>‚öñÔ∏è Implementation Comparison</h2>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Approach</th>
                            <th>Pros</th>
                            <th>Cons</th>
                            <th>Best For</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>DataLayer (GTM)</strong></td>
                            <td>Flexible, No-code changes</td>
                            <td>Extra layer complexity</td>
                            <td>Marketing-heavy teams</td>
                        </tr>
                        <tr>
                            <td><strong>React-GA4</strong></td>
                            <td>Simple, Type-safe</td>
                            <td>Code changes required</td>
                            <td>Developer-led teams</td>
                        </tr>
                        <tr>
                            <td><strong>Direct gtag</strong></td>
                            <td>Full control</td>
                            <td>More code complexity</td>
                            <td>Custom requirements</td>
                        </tr>
                    </tbody>
                </table>
                <a href="https://github.com/yourusername/telemetry-demo/blob/main/src/utils/tracking-comparison.ts" class="code-link" target="_blank">See all approaches in tracking-comparison.ts ‚Üí</a>
            </section>
            
            <!-- Slide 13: Initialization Pattern -->
            <section>
                <h2>üöÄ React-GA4 Initialization</h2>
                <pre><code class="language-javascript">// From src/utils/tracking-comparison.ts:56-66
export const initializeReactGA4 = (measurementId: string) => {
  ReactGA.initialize(measurementId, {
    gaOptions: {
      debug_mode: true  // Enable debug in dev
    },
    gtagOptions: {
      debug_mode: true
    }
  });
  console.log('üöÄ React-GA4 Initialized with:', measurementId);
};</code></pre>
                <a href="https://github.com/yourusername/telemetry-demo/blob/main/src/utils/tracking-comparison.ts#L56-L66" class="code-link" target="_blank">View in Repository ‚Üí</a>
                <div class="highlight-box" style="margin-top: 20px;">
                    <strong>Call this in your App.tsx or main.tsx before rendering</strong>
                </div>
            </section>
            
            <!-- Slide 14: Event Tracking Methods -->
            <section>
                <h2>üìà Event Tracking Methods</h2>
                <pre><code class="language-javascript">// Custom Events
ReactGA.event('button_click', {
  button_name: 'hero_cta',
  page_section: 'hero'
});

// Page Views
ReactGA.send({ 
  hitType: "pageview", 
  page: '/products',
  title: 'Products Page' 
});

// E-commerce
ReactGA.event('purchase', {
  transaction_id: '12345',
  value: 99.99,
  currency: 'USD',
  items: [...]
});</code></pre>
                <a href="https://github.com/yourusername/telemetry-demo/blob/main/src/utils/tracking-comparison.ts#L70-L99" class="code-link" target="_blank">Full implementation examples ‚Üí</a>
            </section>
            
            <!-- Slide 15: React Router Integration -->
            <section>
                <h2>üîÑ React Router Integration</h2>
                <pre><code class="language-javascript">// From src/App.tsx:48-58
function AppContent() {
  const location = useLocation();

  useEffect(() => {
    const pageTitles: Record&lt;string, string&gt; = {
      '/': 'Home',
      '/about': 'About',
      '/comparison': 'Comparison'
    };
    const pageTitle = pageTitles[location.pathname] || 'Unknown';
    trackPageView(location.pathname, pageTitle);
  }, [location]);
  
  // ... rest of component
}</code></pre>
                <a href="https://github.com/yourusername/telemetry-demo/blob/main/src/App.tsx#L48-L58" class="code-link" target="_blank">View in Repository ‚Üí</a>
                <div class="architecture-box" style="margin-top: 20px;">
                    <strong>Auto-tracks all route changes!</strong>
                </div>
            </section>
            
            <!-- Part 4: Custom Events Architecture -->
            
            <!-- Slide 16: Event Anatomy -->
            <section>
                <h2>üî¨ Event Anatomy</h2>
                <div class="architecture-box">
                    <h3>GA4 Event Structure</h3>
                    <pre><code class="language-javascript">{
  event_name: "add_to_cart",        // Required
  event_category: "ecommerce",      // Optional (custom)
  event_label: "summer_sale",       // Optional (custom)
  value: 29.99,                     // Optional (numeric)
  currency: "USD",                  // Contextual parameter
  items: [...]                      // Complex data
}</code></pre>
                </div>
                <div class="highlight-box" style="margin-top: 20px;">
                    <strong>Note:</strong> GA4 is more flexible than Universal Analytics - any parameter can be custom!
                </div>
            </section>
            
            <!-- Slide 17: Naming Conventions -->
            <section>
                <h2>üìù Naming Conventions</h2>
                <div class="two-columns">
                    <div class="architecture-box">
                        <h3>‚úÖ DO</h3>
                        <ul>
                            <li>Use snake_case: <code>button_click</code></li>
                            <li>Be descriptive: <code>video_play_started</code></li>
                            <li>Group related: <code>form_submit</code></li>
                            <li>Use Google's recommended events</li>
                        </ul>
                    </div>
                    <div class="architecture-box">
                        <h3>‚ùå DON'T</h3>
                        <ul>
                            <li>Use spaces: <code>button click</code></li>
                            <li>Be vague: <code>event1</code></li>
                            <li>Mix cases: <code>ButtonClick</code></li>
                            <li>Use reserved names incorrectly</li>
                        </ul>
                    </div>
                </div>
                <div class="architecture-box" style="margin-top: 20px;">
                    <strong>Reserved Events:</strong> <code>page_view</code>, <code>purchase</code>, <code>sign_up</code>, <code>login</code>
                </div>
            </section>
            
            <!-- Slide 18: Categories Best Practices -->
            <section>
                <h2>üìÇ Event Categories</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="architecture-box">
                        <h4>üë§ User Engagement</h4>
                        <code>scroll_depth</code>, <code>time_on_page</code>
                    </div>
                    <div class="architecture-box">
                        <h4>üõí E-commerce</h4>
                        <code>add_to_cart</code>, <code>checkout_start</code>
                    </div>
                    <div class="architecture-box">
                        <h4>üìπ Content</h4>
                        <code>video_play</code>, <code>pdf_download</code>
                    </div>
                    <div class="architecture-box">
                        <h4>üìù Forms</h4>
                        <code>form_start</code>, <code>field_error</code>
                    </div>
                    <div class="architecture-box">
                        <h4>üîç Search</h4>
                        <code>search_query</code>, <code>filter_apply</code>
                    </div>
                    <div class="architecture-box">
                        <h4>üéØ Navigation</h4>
                        <code>menu_click</code>, <code>tab_switch</code>
                    </div>
                </div>
            </section>
            
            <!-- Slide 19: Custom Parameters Strategy -->
            <section>
                <h2>üé® Custom Parameters Strategy</h2>
                <pre><code class="language-javascript">// Well-structured event with custom parameters
trackGTMEvent('product_interaction', {
  // User Context
  user_type: 'premium',
  user_segment: 'power_user',
  
  // Content Metadata
  product_id: 'SKU-12345',
  product_category: 'electronics',
  product_price: 299.99,
  
  // Interaction Details
  interaction_type: 'quick_view',
  interaction_position: 'grid_row_2',
  
  // Business Metrics
  potential_revenue: 299.99,
  inventory_status: 'in_stock'
});</code></pre>
                <div class="highlight-box" style="margin-top: 20px;">
                    <strong>Pro Tip:</strong> Register custom dimensions in GA4 for better reporting
                </div>
            </section>
            
            <!-- Slide 20: Implementation Example -->
            <section>
                <h2>üíª Real Implementation Example</h2>
                <pre><code class="language-javascript">// From a typical React component
import { trackGTMEvent } from './utils/tracking';

function HeroSection() {
  const handleCTAClick = () => {
    // Track the interaction
    trackGTMEvent('button_click', {
      button_name: 'hero_cta',
      button_text: 'Get Started',
      page_section: 'hero',
      page_url: window.location.pathname,
      timestamp: new Date().toISOString(),
      user_type: getUserType(), // Custom function
      ab_variant: 'variant_b'   // If running A/B test
    });
    
    // Continue with navigation
    navigate('/signup');
  };
  
  return &lt;button onClick={handleCTAClick}&gt;Get Started&lt;/button&gt;;
}</code></pre>
            </section>
            
            <!-- Part 5: Implementation Patterns -->
            
            <!-- Slide 21: Three Approaches Compared -->
            <section>
                <h2>üîÄ Three Implementation Approaches</h2>
                <pre><code class="language-javascript">// Approach 1: DataLayer (GTM)
window.dataLayer.push({
  event: 'button_click',
  button_name: 'cta'
});

// Approach 2: React-GA4
ReactGA.event('button_click', {
  button_name: 'cta'
});

// Approach 3: Direct gtag
window.gtag('event', 'button_click', {
  button_name: 'cta'
});</code></pre>
                <a href="https://github.com/yourusername/telemetry-demo/blob/main/src/utils/tracking-comparison.ts" class="code-link" target="_blank">See complete comparison in tracking-comparison.ts ‚Üí</a>
            </section>
            
            <!-- Slide 22: Utility Functions -->
            <section>
                <h2>üõ†Ô∏è Utility Functions Pattern</h2>
                <pre><code class="language-typescript">// Centralized tracking with TypeScript
interface TrackingEvent {
  name: string;
  parameters?: Record&lt;string, any&gt;;
}

class Analytics {
  private static instance: Analytics;
  
  static track(event: TrackingEvent): void {
    try {
      // Send to multiple providers
      this.sendToGTM(event);
      this.sendToClarity(event);
      
      // Log in development
      if (process.env.NODE_ENV === 'development') {
        console.log('üìä Analytics Event:', event);
      }
    } catch (error) {
      console.error('Analytics error:', error);
      // Don't break the app for analytics failures
    }
  }
}</code></pre>
            </section>
            
            <!-- Slide 23: Component Integration -->
            <section>
                <h2>üîå Component Integration Patterns</h2>
                <div class="two-columns">
                    <div>
                        <h3>Custom Hook</h3>
                        <pre><code class="language-javascript">function useAnalytics() {
  const location = useLocation();
  
  const trackEvent = useCallback((
    name, 
    params
  ) => {
    trackGTMEvent(name, {
      ...params,
      page: location.pathname
    });
  }, [location]);
  
  return { trackEvent };
}</code></pre>
                    </div>
                    <div>
                        <h3>HOC Pattern</h3>
                        <pre><code class="language-javascript">function withAnalytics(Component) {
  return function Wrapped(props) {
    const analytics = useAnalytics();
    
    return (
      &lt;Component 
        {...props} 
        analytics={analytics}
      /&gt;
    );
  };
}</code></pre>
                    </div>
                </div>
            </section>
            
            <!-- Slide 24: Testing Strategy -->
            <section>
                <h2>üß™ Testing Your Implementation</h2>
                <div class="architecture-box">
                    <h3>1. GTM Preview Mode</h3>
                    <p>Debug tags before publishing</p>
                </div>
                <div class="architecture-box">
                    <h3>2. GA4 DebugView</h3>
                    <p>Real-time event stream in GA4 interface</p>
                </div>
                <div class="architecture-box">
                    <h3>3. Browser DevTools</h3>
                    <pre><code class="language-javascript">// Console debugging
window.dataLayer = window.dataLayer || [];
console.log('Current dataLayer:', window.dataLayer);

// Network tab: Look for collect requests to:
// - google-analytics.com
// - googletagmanager.com</code></pre>
                </div>
            </section>
            
            <!-- Slide 25: Common Pitfalls -->
            <section>
                <h2>‚ö†Ô∏è Common Pitfalls & Solutions</h2>
                <table class="comparison-table">
                    <tr>
                        <th>Pitfall</th>
                        <th>Solution</th>
                    </tr>
                    <tr>
                        <td>Duplicate page_view events</td>
                        <td>Check for double initialization</td>
                    </tr>
                    <tr>
                        <td>Missing events in production</td>
                        <td>Verify GTM container is published</td>
                    </tr>
                    <tr>
                        <td>PII in events</td>
                        <td>Sanitize data before tracking</td>
                    </tr>
                    <tr>
                        <td>Ad blockers blocking analytics</td>
                        <td>Server-side tracking fallback</td>
                    </tr>
                    <tr>
                        <td>Incorrect event parameters</td>
                        <td>Use TypeScript interfaces</td>
                    </tr>
                </table>
            </section>
            
            <!-- Part 6: Data Pipeline -->
            
            <!-- Slide 26: GA4 to BigQuery -->
            <section>
                <h2>üîó GA4 to BigQuery Integration</h2>
                <div class="architecture-box">
                    <h3>Setup Steps</h3>
                    <ol>
                        <li>Enable BigQuery Export in GA4 Admin</li>
                        <li>Link GCP Project</li>
                        <li>Choose export frequency:
                            <ul>
                                <li><strong>Daily:</strong> Once per day (free tier friendly)</li>
                                <li><strong>Streaming:</strong> Real-time (costs more)</li>
                            </ul>
                        </li>
                        <li>Configure dataset location</li>
                    </ol>
                </div>
                <div class="highlight-box" style="margin-top: 20px;">
                    <strong>Cost Tip:</strong> Daily export is usually sufficient and more cost-effective
                </div>
            </section>
            
            <!-- Slide 27: BigQuery Schema -->
            <section>
                <h2>üìä BigQuery Schema Structure</h2>
                <pre><code class="language-sql">-- GA4 exports create tables like: analytics_123456789.events_20240115

-- Table structure:
events_* (
  event_date STRING,
  event_timestamp INTEGER,
  event_name STRING,
  event_params ARRAY&lt;STRUCT&lt;
    key STRING,
    value STRUCT&lt;
      string_value STRING,
      int_value INTEGER,
      float_value FLOAT,
      double_value FLOAT
    &gt;
  &gt;&gt;,
  user_pseudo_id STRING,
  user_properties ARRAY&lt;STRUCT&lt;...&gt;&gt;,
  geo STRUCT&lt;country STRING, region STRING, city STRING&gt;,
  device STRUCT&lt;category STRING, mobile_brand_name STRING, ...&gt;
)</code></pre>
            </section>
            
            <!-- Slide 28: SQL Queries -->
            <section>
                <h2>üîç Useful BigQuery Queries</h2>
                <pre><code class="language-sql">-- Top Events Today
SELECT 
  event_name,
  COUNT(*) as event_count,
  COUNT(DISTINCT user_pseudo_id) as unique_users
FROM `project.analytics_123456789.events_*`
WHERE _TABLE_SUFFIX = FORMAT_DATE('%Y%m%d', CURRENT_DATE())
GROUP BY event_name
ORDER BY event_count DESC;

-- Custom Event Parameters
SELECT 
  event_name,
  ep.key as param_name,
  ep.value.string_value as param_value,
  COUNT(*) as occurrences
FROM `project.analytics_123456789.events_*`,
  UNNEST(event_params) as ep
WHERE event_name = 'button_click'
  AND ep.key = 'button_name'
GROUP BY 1,2,3;</code></pre>
            </section>
            
            <!-- Slide 29: Looker Studio Setup -->
            <section>
                <h2>üìà Looker Studio Configuration</h2>
                <div class="two-columns">
                    <div>
                        <h3>Connection Steps</h3>
                        <ol>
                            <li>Open Looker Studio</li>
                            <li>Create new data source</li>
                            <li>Select BigQuery connector</li>
                            <li>Choose your GA4 dataset</li>
                            <li>Configure fields & metrics</li>
                        </ol>
                    </div>
                    <div>
                        <h3>Best Practices</h3>
                        <ul>
                            <li>Use data freshness indicators</li>
                            <li>Create calculated fields</li>
                            <li>Set up data filters</li>
                            <li>Enable caching</li>
                            <li>Share with stakeholders</li>
                        </ul>
                    </div>
                </div>
                <div class="architecture-box" style="margin-top: 20px;">
                    <strong>Pro Tip:</strong> Create a "Last 28 days" default date range for consistency
                </div>
            </section>
            
            <!-- Slide 30: Dashboard Best Practices -->
            <section>
                <h2>üéØ Dashboard Design Principles</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="architecture-box">
                        <h4>üìä KPI Selection</h4>
                        <p>Focus on actionable metrics</p>
                    </div>
                    <div class="architecture-box">
                        <h4>üé® Visual Hierarchy</h4>
                        <p>Most important metrics at top</p>
                    </div>
                    <div class="architecture-box">
                        <h4>üì± Mobile Responsive</h4>
                        <p>Test on all devices</p>
                    </div>
                    <div class="architecture-box">
                        <h4>üîÑ Auto-refresh</h4>
                        <p>Set appropriate intervals</p>
                    </div>
                    <div class="architecture-box">
                        <h4>üéØ Audience Specific</h4>
                        <p>Tailor to viewer needs</p>
                    </div>
                    <div class="architecture-box">
                        <h4>üìù Documentation</h4>
                        <p>Include metric definitions</p>
                    </div>
                </div>
            </section>
            
            <!-- Part 7: Live Implementation -->
            
            <!-- Slide 31: Repository Structure -->
            <section>
                <h2>üìÅ Current Repository Structure</h2>
                <pre><code class="language-bash">telemetry-demo/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tracking.ts          # Core GTM & Clarity functions
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tracking-comparison.ts # All implementation approaches
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HomePage.tsx         # Event examples
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AboutPage.tsx        # More examples
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ComparisonPage.tsx   # Side-by-side comparison
‚îÇ   ‚îî‚îÄ‚îÄ App.tsx                  # Router & page tracking
‚îú‚îÄ‚îÄ index.html                   # GTM & Clarity scripts
‚îî‚îÄ‚îÄ package.json                 # Dependencies (react-ga4)</code></pre>
                <div class="highlight-box" style="margin-top: 20px;">
                    All working code available in the repository!
                </div>
            </section>
            
            <!-- Slide 32: Code Walkthrough -->
            <section>
                <h2>üö∂ Implementation Walkthrough</h2>
                <div class="architecture-box">
                    <h3>1. Script Installation</h3>
                    <p><code>index.html:9-24</code> - GTM & Clarity scripts</p>
                </div>
                <div class="architecture-box">
                    <h3>2. Tracking Utilities</h3>
                    <p><code>tracking.ts</code> - Core tracking functions</p>
                </div>
                <div class="architecture-box">
                    <h3>3. Route Tracking</h3>
                    <p><code>App.tsx:66-70</code> - Auto page view tracking</p>
                </div>
                <div class="architecture-box">
                    <h3>4. Event Implementation</h3>
                    <p><code>HomePage.tsx</code> - Button clicks & interactions</p>
                </div>
            </section>
            
            <!-- Slide 33: Microsoft Clarity Bonus -->
            <section>
                <h2>üîç Bonus: Microsoft Clarity</h2>
                <div class="two-columns">
                    <div>
                        <h3>Features</h3>
                        <ul>
                            <li>Session recordings</li>
                            <li>Heatmaps</li>
                            <li>Rage click detection</li>
                            <li>JavaScript errors</li>
                            <li>Free forever!</li>
                        </ul>
                    </div>
                    <div>
                        <h3>Implementation</h3>
                        <pre><code class="language-javascript">// Custom events
window.clarity('set', 
  'user_action', 
  { 
    type: 'purchase',
    value: 99.99 
  }
);</code></pre>
                    </div>
                </div>
                <a href="https://github.com/yourusername/telemetry-demo/blob/main/src/utils/tracking.ts#L21-L29" class="code-link" target="_blank">See Clarity implementation ‚Üí</a>
            </section>
            
            <!-- Slide 34: Development Workflow -->
            <section>
                <h2>üîÑ Development Workflow</h2>
                <div style="text-align: center;">
                    <svg width="700" height="400" viewBox="0 0 700 400">
                        <!-- Development -->
                        <rect x="50" y="50" width="150" height="60" fill="#61dafb" rx="5"/>
                        <text x="125" y="85" text-anchor="middle" fill="black">Development</text>
                        <text x="125" y="100" text-anchor="middle" fill="black" font-size="12">Debug Mode</text>
                        
                        <!-- Arrow -->
                        <line x1="200" y1="80" x2="250" y2="80" stroke="white" stroke-width="2" marker-end="url(#arrow2)"/>
                        
                        <!-- Staging -->
                        <rect x="250" y="50" width="150" height="60" fill="#fbbc04" rx="5"/>
                        <text x="325" y="85" text-anchor="middle" fill="black">Staging</text>
                        <text x="325" y="100" text-anchor="middle" fill="black" font-size="12">GTM Preview</text>
                        
                        <!-- Arrow -->
                        <line x1="400" y1="80" x2="450" y2="80" stroke="white" stroke-width="2" marker-end="url(#arrow2)"/>
                        
                        <!-- Production -->
                        <rect x="450" y="50" width="150" height="60" fill="#34a853" rx="5"/>
                        <text x="525" y="85" text-anchor="middle" fill="white">Production</text>
                        <text x="525" y="100" text-anchor="middle" fill="white" font-size="12">Published Tags</text>
                        
                        <!-- Checklist -->
                        <rect x="200" y="150" width="300" height="200" fill="#1a1a1a" stroke="#61dafb" stroke-width="2" rx="5"/>
                        <text x="350" y="180" text-anchor="middle" fill="#61dafb" font-weight="bold">Deployment Checklist</text>
                        <text x="220" y="210" fill="white">‚úì Console errors checked</text>
                        <text x="220" y="235" fill="white">‚úì Network requests verified</text>
                        <text x="220" y="260" fill="white">‚úì GTM preview tested</text>
                        <text x="220" y="285" fill="white">‚úì GA4 DebugView confirmed</text>
                        <text x="220" y="310" fill="white">‚úì No PII in events</text>
                        <text x="220" y="335" fill="white">‚úì Tags published in GTM</text>
                        
                        <!-- Arrow definition -->
                        <defs>
                            <marker id="arrow2" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="white"/>
                            </marker>
                        </defs>
                    </svg>
                </div>
            </section>
            
            <!-- Slide 35: Next Steps -->
            <section>
                <h2>üöÄ Next Steps & Resources</h2>
                <div class="two-columns">
                    <div>
                        <h3>üìö Documentation</h3>
                        <ul>
                            <li><a href="https://tagmanager.google.com/" target="_blank">Google Tag Manager</a></li>
                            <li><a href="https://developers.google.com/analytics/devguides/collection/ga4" target="_blank">GA4 Developer Docs</a></li>
                            <li><a href="https://github.com/react-ga/react-ga" target="_blank">React-GA4 GitHub</a></li>
                            <li><a href="https://clarity.microsoft.com/" target="_blank">Microsoft Clarity</a></li>
                        </ul>
                    </div>
                    <div>
                        <h3>üõ†Ô∏è Tools</h3>
                        <ul>
                            <li><a href="https://tagassistant.google.com/" target="_blank">Tag Assistant</a></li>
                            <li><a href="https://ga-dev-tools.google/" target="_blank">GA Dev Tools</a></li>
                            <li><a href="https://chrome.google.com/webstore/detail/analytics-debugger" target="_blank">Analytics Debugger</a></li>
                            <li><a href="https://lookerstudio.google.com/" target="_blank">Looker Studio</a></li>
                        </ul>
                    </div>
                </div>
                <div class="highlight-box" style="margin-top: 30px;">
                    <strong>Repository:</strong> <a href="https://github.com/yourusername/telemetry-demo" target="_blank" style="color: white;">github.com/yourusername/telemetry-demo</a>
                </div>
            </section>
            
            <!-- Slide 36: Thank You -->
            <section class="center">
                <h1>Thank You! üôè</h1>
                <div style="margin-top: 50px;">
                    <p style="font-size: 1.5em;">Questions?</p>
                </div>
                <div style="margin-top: 40px;">
                    <p>üìß Contact: your.email@example.com</p>
                    <p>üì¶ Repository: <a href="https://github.com/yourusername/telemetry-demo" target="_blank" style="color: #61dafb;">github.com/yourusername/telemetry-demo</a></p>
                    <p>üîó Slides: <a href="./index.html" style="color: #61dafb;">Available Online</a></p>
                </div>
                <div style="margin-top: 50px; font-size: 0.8em; color: #666;">
                    <p>Built with Reveal.js | Source code in /docs folder</p>
                </div>
            </section>
            
        </div>
    </div>
    
    <!-- Reveal.js Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/reveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/highlight/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/notes/notes.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/markdown/markdown.min.js"></script>
    
    <script>
        Reveal.initialize({
            hash: true,
            controls: true,
            progress: true,
            center: false,
            transition: 'slide',
            plugins: [ RevealHighlight, RevealNotes, RevealMarkdown ]
        });
    </script>
</body>
</html>